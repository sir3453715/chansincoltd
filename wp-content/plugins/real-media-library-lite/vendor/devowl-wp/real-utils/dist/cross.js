!function(){var t={234:function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},786:function(t){function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}},e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={exports:{}};return t[n](o,o.exports,i),o.exports}i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";var t=jQuery,e=i.n(t),n=i(234),o=i.n(n),a=i(786),r=i.n(a),s=devowlWp_utils,c=function(){return window[s.BaseOptions.getPureSlug({NODE_ENV:"production",env:"production",rootSlug:"devowl-wp",slug:"real-utils"},!0)].others},l=function(){function t(){o()(this,t),this.requestMemo=void 0,this.localizationMemo=void 0}return r()(t,[{key:"request",get:function(){return this.requestMemo?this.requestMemo:this.requestMemo=(0,s.createRequestFactory)(window[s.BaseOptions.getPureSlug({NODE_ENV:"production",env:"production",rootSlug:"devowl-wp",slug:"real-utils"},!0)])}},{key:"localization",get:function(){return this.localizationMemo?this.localizationMemo:this.localizationMemo=(0,s.createLocalizationFactory)("".concat("devowl-wp","-").concat("real-utils"))}}],[{key:"get",get:function(){return t.me?t.me:t.me=new t}}]),t}();l.me=void 0;var u=function(){var t;return(t=l.get.localization).__.apply(t,arguments)},p={path:"/cross/:slug/:action/dismiss",method:s.RouteHttpVerb.DELETE},d="crossSellingPointer",h=function(){function t(e,i,n,a){o()(this,t),this.slug=void 0,this.action=void 0,this.position=void 0,this.$handler=void 0,this.slug=i,this.action=n,this.position=a,this.$handler=e,this.init()}return r()(t,[{key:"close",value:function(t,e){t.preventDefault();var i=this.$handler.pointer("widget").find('input[type="checkbox"]').is(":checked");if(this.$handler.pointer("close"),this.$handler.pointer("destroy"),e){var n=this.getAction().link;window.open(n,"_blank")}!function(){var t;(t=l.get.request).request.apply(t,arguments)}({location:p,params:{slug:this.slug,action:this.action,force:i}})}},{key:"buttons",value:function(){var t=this,i=e()('<a class="button" href="#">'.concat(u("Not now"),"</a>")).click((function(e){t.close(e,!1)})),n=e()('<a class="button button-primary" href="#">'.concat(u("Learn more!"),"</a>")).click((function(e){t.close(e,!0)}));return e()('<div class="real-utils-pointer-buttons" />').append(n,i)}},{key:"getAction",value:function(){var t;return null===(t=c().cross)||void 0===t?void 0:t[this.slug][this.action]}},{key:"init",value:function(){var t=this,e=this.position,i=this.getAction(),n=i.title,o=i.description,a=i.image,r='<label><input type="checkbox" /> '.concat(u("Never show this popup again"),"</label>");this.$handler.pointer({pointerClass:"wp-pointer real-utils-cross-pointer",content:"<h3>".concat(n,'</h3><p><img src="').concat(a,'" />').concat(o).concat(r,"</p>"),buttons:this.buttons.bind(this),position:e}).pointer("open").pointer("widget").find("img").get(0).onload=function(){return t.$handler.pointer("reposition")}}}],[{key:"waitForVisibleElement",value:function(i,n,o,a){if(!this.isActionAvailable(n,o))return!1;var r=e()(i);return r.length&&!r.data(d)&&(r.data(d,!0),new t(r,n,o,a)),r.length>0}},{key:"isActionAvailable",value:function(t,e){var i,n;return!(null===(i=c().cross)||void 0===i||null===(n=i[t])||void 0===n||!n[e])}}]),t}(),f="real-media-library",m="real-category-library",v="real-physical-media",b=function(){function t(){o()(this,t)}return r()(t,null,[{key:"onChange",value:function(){new h(e()(this),m,"assign"),e()(t.SELECTOR).off("change",t.onChange)}},{key:"bind",value:function(){h.isActionAvailable(m,"assign")&&e()(this.SELECTOR).one("change",this.onChange)}}]),t}();b.SELECTOR='body.wp-admin.post-php:not(.post-type-attachment) #categorychecklist input[type="checkbox"]';var g=function(){function t(){o()(this,t)}return r()(t,null,[{key:"onClick",value:function(i){var n=e()(this).attr("href");return new h(e()(this),m,"pagination"),e()(this).pointer("widget").find(".button").click((function(){setTimeout((function(){return window.open(n,"_self")}),1e3)})),e()(t.SELECTOR).off("click",t.onClick),i.preventDefault(),!1}},{key:"bind",value:function(){h.isActionAvailable(m,"pagination")&&e()(this.SELECTOR).one("click",this.onClick)}}]),t}();g.SELECTOR="body.wp-admin.edit-php:not(.post-type-attachment) .tablenav-pages .pagination-links a",e()(document).ready((function(){var t;setTimeout((function t(){var e=!1;!e&&(e=h.waitForVisibleElement("body.wp-admin.upload-php .attachment-info > .details:visible, body.wp-admin.post-php.post-type-attachment #post-body-content #titlewrap:visible",f,"attachment-details")),!e&&(e=h.waitForVisibleElement("body.wp-admin.plugins-php #wpbody-content > div.wrap > h1:first","real-cookie-banner","gdpr-compliant")),!e&&(e=h.waitForVisibleElement('body > div > .media-modal.wp-core-ui .media-frame-router button[role="tab"]:eq(1).active',f,"insert-dialog")),!e&&(e=h.waitForVisibleElement("body.wp-admin .editor-post-taxonomies__hierarchical-terms-list:visible",m,"assign","bottom")),!e&&(e=h.waitForVisibleElement("body.wp-admin.upload-php #wpbody-content .upload-ui .button-hero:visible, body.wp-admin.media-new-php #media-items .media-item:first:visible",v,"upload")),!e&&setTimeout(t,1e3)}),1e3),e()("select#parent").length&&h.isActionAvailable(m,"add-category")&&e()("body.wp-admin.edit-tags-php:not(.woocommerce-page,.post-type-attachment) form#addtag #submit").one("click",(function(){new h(e()(this),m,"add-category","bottom")})),e()("select#parent").length&&h.isActionAvailable(m,"add-wc-category")&&e()("body.wp-admin.edit-tags-php.woocommerce-page form#addtag #submit").one("click",(function(){new h(e()(this),m,"add-wc-category","bottom")})),h.isActionAvailable(v,"move")&&(null===(t=window.rml)||void 0===t||t.hooks.register("attachment/move/finished",(function(t,i){new h(e()('.rml-container:visible li[data-li-id="'.concat(i,'"]')),v,"move")}))),b.bind(),g.bind()}))}()}();
//# sourceMappingURL=cross.js.map